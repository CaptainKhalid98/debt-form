<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Payment Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }
        input[type="number"] {
            width: 100%;
            padding: 10px;
            font-size: 1rem;
        }
        button {
            padding: 10px 20px;
            font-size: 1rem;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .result {
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Loan Payment Calculator</h1>

    <!-- Combined Loan Form -->
    <form id="loan-form">
        <div class="form-group">
            <label for="student-loan-amount">Student Loan Amount ($):</label>
            <input type="number" id="student-loan-amount" name="student-loan-amount" required>
        </div>
        <div class="form-group">
            <label for="tax-debt-amount">Tax Debt Amount ($):</label>
            <input type="number" id="tax-debt-amount" name="tax-debt-amount" required>
        </div>
        <div class="form-group">
            <label for="unsecured-debt-amount">Unsecured Debt Amount ($):</label>
            <input type="number" id="unsecured-debt-amount" name="unsecured-debt-amount" required>
        </div>
        <div class="form-group">
            <label for="monthly-payment">Monthly Payment ($):</label>
            <input type="number" id="monthly-payment" name="monthly-payment" required>
        </div>
    </form>

    <button type="button" onclick="calculateLoans()">Calculate Total Loan</button>

    <div class="result" id="result"></div>

    <script>
        // Fixed APR calculation: 20% annual rate becomes 1.6667% per month (monthly interest rate)
        const monthlyInterestRate = 0.20 / 12;

        // Function to calculate the loan repayment details
        function calculateLoan(loanAmount, monthlyPayment) {
            // Calculate months to pay off the loan using the loan amortization formula
            const months = Math.log(monthlyPayment / (monthlyPayment - loanAmount * monthlyInterestRate)) / Math.log(1 + monthlyInterestRate);

            // Calculate the total amount to be paid
            const totalAmountPaid = monthlyPayment * Math.ceil(months);

            // Return the results
            return {
                months: Math.ceil(months),
                totalAmountPaid: totalAmountPaid
            };
        }

        // Function to calculate the total loan amount, months, and total payment
        function calculateLoans() {
            // Get input values for the student loan, tax debt, and unsecured debt
            const studentLoanAmount = parseFloat(document.getElementById('student-loan-amount').value);
            const taxDebtAmount = parseFloat(document.getElementById('tax-debt-amount').value);
            const unsecuredDebtAmount = parseFloat(document.getElementById('unsecured-debt-amount').value);
            const monthlyPayment = parseFloat(document.getElementById('monthly-payment').value);

            // Check if all input fields are filled and valid
            if (!studentLoanAmount || !taxDebtAmount || !unsecuredDebtAmount || !monthlyPayment || monthlyPayment <= 0) {
                alert("Please fill out all fields correctly.");
                return;
            }

            // Combine the total loan amount from all loans
            const totalLoanAmount = studentLoanAmount + taxDebtAmount + unsecuredDebtAmount;

            // Calculate loan results for the combined loan
            const loanResult = calculateLoan(totalLoanAmount, monthlyPayment);

            // Display the results
            document.getElementById('result').innerHTML = `
                <strong>Combined Loan:</strong><br>
                Total loan amount (Student + Tax Debt + Unsecured Debt): $${totalLoanAmount.toFixed(2)}<br>
                It will take approximately ${loanResult.months} months (${(loanResult.months / 12).toFixed(1)} years) to pay off.<br>
                Total amount to be paid: $${loanResult.totalAmountPaid.toFixed(2)}<br>
                Monthly payment: $${monthlyPayment.toFixed(2)}
            `;
        }
    </script>
</body>
</html>

